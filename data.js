var data = [
    {column: 0,
     content: [
      {
        imageLink: 'images/disasters2021.png',
        toLink: 'https://www.washingtonpost.com/nation/interactive/2021/weather-disasters-2021/',
        title: 'Cold, heat, fires, hurricanes and tornadoes: The year in weather disasters',
        organization: 'Washington Post',
        tools: 'JavaScript (React), HTML/CSS, QGIS, Illustrator, GDAL, ffmpeg',
        include: 'true',
      },
      {
        imageLink: 'images/earthquake.png',
        toLink: 'portfolio.html#earthquakes',
        title: 'What would a powerful earthquake feel like where you live?',
        organization: 'Los Angeles Times',
        tools: 'Mapbox, JavaScript, HTML/CSS, QGIS, Illustrator, Mapshaper',
        include: 'true',
      },
      {
        imageLink: 'images/mmusic_hp.png',
        toLink: 'portfolio.html#music',
        title: 'Midd Music web app',
        organization: 'Middlebury College',
        tools: 'JavaScript (React, Node), Google Firebase, GitHub',
        include: 'false',
      },
      {
        imageLink: 'images/redlining.png',
        toLink: 'https://www.npr.org/sections/codeswitch/2021/05/08/991535564/black-americans-and-the-racist-architecture-of-homeownership',
        title: 'Black Americans And The Racist Architecture Of Homeownership',
        organization: 'NPR',
        tools: 'JavaScript (D3), Illustrator, Photoshop',
        include: 'true',
      },
      {
        imageLink: 'images/census2020.png',
        toLink: 'https://www.washingtonpost.com/nation/interactive/2021/census-maps-race-population-demographics/',
        title: "Mapping America’s racial population shifts over the last decade",
        organization: 'Washington Post',
        tools: 'D3, HTML/CSS, JavaScript, React, QGIS',
        include: 'true',
      },
       {
        imageLink: 'images/joy-generator.png',
        toLink: 'https://apps.npr.org/joy-generator/',
        title: 'Joy Generator',
        organization: 'National Public Radio',
        tools: 'JavaScript, React, Illustrator, Figma',
        include: 'true',
      },
      {
        imageLink: 'images/flood.png',
        toLink: 'https://www.npr.org/2021/02/22/966428165/a-looming-disaster-new-data-reveal-where-flood-damage-is-an-existential-threat',
        title: "A Looming Disaster: New Data Reveal Where Flood Damage Is An Existential Threat",
        organization: 'NPR',
        tools: 'JavaScript (D3)',
        include: 'true',
      },
       {
        imageLink: 'images/art/FilteredSLIC2_Minimalism_20-Sep-18-00-48-17.png',
        toLink: 'portfolio.html#generative',
        title: 'Generative image processing',
        organization: '',
        tools: 'Python (scikit-image, PIL',
        include: 'false',
      },
      {
        imageLink: 'images/art/warhol_processing-Sep-18-00-48-17.png',
        toLink: 'portfolio.html#sketches',
        title: 'Code sketches',
        organization: '',
        tools: 'p5.js',
        include: 'false',
      },
      {
        imageLink: 'images/blackfeet.png',
        toLink: 'portfolio.html#badger',
        title: 'Blackfeet reservation timeline map',
        organization: '',
        tools: 'Illustrator, QGIS',
        include: 'true',
      },
      {
        imageLink: 'images/oregon.png',
        toLink: 'portfolio.html#oregon',
        title: 'West Coast housing crisis visualizations',
        organization: 'Los Angeles Times',
        tools: 'Illustrator, R',
        include: 'false',
      },
      {
        imageLink: 'images/ridgecrest_print.png',
        toLink: 'portfolio.html#ridgecrest',
        title: 'Ridgecrest earthquake map',
        organization: 'Los Angeles Times',
        tools: 'QGIS, Illustrator',
        include: 'false',
      },
      {
        imageLink: 'images/antarctica.png',
        toLink: 'portfolio.html#antarctica',
        title: 'Antarctic expeditions map',
        organization: 'Middlebury College',
        tools: 'ArcMap, Illustrator',
        include: 'false',
      },
      {
        imageLink: 'images/WaterWalks_v2.png',
        toLink: 'portfolio.html#guntram',
        title: 'Indigenous experiences at the U.S.-Canada border',
        organization: 'Middlebury College',
        tools: 'Illustrator, QGIS',
        include: 'false',
      },
      ]},
      {column: 1,
      content: [
      {
        imageLink: 'images/cartogram.png',
        toLink: 'https://www.npr.org/2021/04/26/983082132/census-to-release-1st-results-that-shift-electoral-college-house-seats',
        title: "Here's How The First 2020 Census Results Changed Electoral College, House Seats",
        organization: 'NPR',
        tools: 'JavaScript (D3), Illustrator',
        include: 'true',
      },
      {
        imageLink: 'images/ukraine_map.png',
        toLink: 'https://www.nytimes.com/interactive/2022/02/25/opinion/russia-ukraine-invasion-maps.html',
        title: 'How to Think About Ukraine, in Maps and Charts',
        organization: 'New York Times',
        tools: 'QGIS, Illustrator',
        include: 'true',
      },
      {
        imageLink: 'images/npr_hospitalizations.png',
        toLink: 'https://www.npr.org/sections/health-shots/2020/12/09/944379919/new-data-reveal-which-hospitals-are-dangerously-full-is-yours',
        title: 'NPR COVID Hospital Capacity Tracker',
        organization: 'NPR',
        tools: 'JavaScript, D3, Python',
        include: 'true',
      },
      {
        imageLink: 'images/reservoirs.png',
        toLink: 'https://www.washingtonpost.com/weather/2021/07/09/western-reservoirs-drought-california-nevada/',
        title: 'Reservoirs are drying up as consequences of the Western drought worsen',
        organization: 'Washington Post',
        tools: 'Illustrator, ai2html, QGIS',
        include: 'true',
      },
      {
        imageLink: 'images/ukraine_bubbles.png',
        toLink: 'https://www.nytimes.com/interactive/2022/03/15/opinion/ukraine-refugee-crisis.html',
        title: 'How to Think About the Ukrainian Refugee Crisis, in Maps and Charts',
        organization: 'New York Times',
        tools: 'JavaScript (Svelte), D3, HTML/CSS, QGIS, Illustrator',
        include: 'true',
      },
      {
        imageLink: 'images/ee_ss.png',
        toLink: 'portfolio.html#ee',
        title: 'Machine learning and satellite imagery analysis',
        organization: 'Middlebury College',
        tools: 'Google Earth Engine, JavaScript, Python',
        include: 'true',
      },
      {
        imageLink: 'images/houston.png',
        toLink: 'portfolio.html#houston',
        title: 'Environmental Injustice and Natural Disasters',
        organization: 'Middlebury College',
        tools: 'ArcGIS, Illustrator',
        include: 'false',
      },
      {
        imageLink: 'images/antarctica.png',
        toLink: 'portfolio.html#antarctica',
        title: 'Antarctic expeditions map',
        organization: 'Middlebury College',
        tools: 'ArcMap, Illustrator',
        include: 'false',
      },
      {
        imageLink: 'images/homelessness.png',
        toLink: 'portfolio.html#homelessness',
        title: 'Homelessness in Los Angeles graphics',
        organization: 'Los Angeles Times',
        tools: 'Illustrator',
        include: 'false',
      },

      {
        imageLink: 'images/chart_ss.png',
        toLink: 'portfolio.html#divest',
        title: 'Middlebury College divestment graphics',
        organization: 'Middlebury Campus',
        tools: 'QGIS, Illustrator, HTML/CSS, JavaScript, WordPress',
        include: 'false',
      },
      {
        imageLink: 'images/ss_lapd.png',
        toLink: 'portfolio.html#lapd',
        title: 'LAPD traffic stops graphics',
        organization: 'Los Angeles Times',
        tools: 'Illustrator',
        include: 'false',
      },
      
      {
        imageLink: 'images/senior_project_summary_image.png',
        toLink: 'portfolio.html#cc',
        title: 'The United States of Climate Change',
        organization: 'Middlebury College',
        tools: 'Mapbox GL JS, HTML/CSS, QGIS, Mapshaper',
        include: 'true',
      }
      ]},
      {column: 2,
      content: [
      {
        imageLink: 'images/urbanGrowth.png',
        toLink: 'https://www.washingtonpost.com/nation/interactive/2021/land-development-urban-growth-maps/',
        title: "Where America's developed areas are growing",
        organization: 'Washington Post',
        tools: 'Mapbox, ai2html, HTML/CSS, JavaScript, React, QGIS,',
        include: 'true',
      },
      {
        imageLink: 'images/smoke.png',
        toLink: 'https://www.washingtonpost.com/nation/2021/08/26/wildfires-smoke-air-quality-pollution/',
        title: "Here’s what to know as a summer of wildfires prompts air-quality alerts across the West",
        organization: 'Washington Post',
        tools: 'ai2html, HTML/CSS, Illustrator, QGIS,',
        include: 'true',
      },
      {
        imageLink: 'images/vaccineDaily.png',
        toLink: 'https://www.npr.org/sections/health-shots/2021/01/28/960901166/how-is-the-covid-19-vaccination-campaign-going-in-your-state',
        title: 'NPR COVID Vaccine Tracker',
        organization: 'NPR',
        tools: 'JavaScript, D3, Python',
        include: 'true',
      },
      {
        imageLink: 'images/hosp-vax.png',
        toLink: 'https://www.washingtonpost.com/health/2021/09/23/covid-vaccination-hospitalization-map/',
        title: 'Mapping America’s hospitalization and vaccination divide',
        organization: 'Washington Post',
        tools: 'QGIS, Illustrator, ai2html',
        include: 'true',
      },
      {
        imageLink: 'images/power.png',
        toLink: 'portfolio.html#power_companies',
        title: 'Which power companies are the worst polluters?',
        organization: 'Los Angeles Times',
        tools: 'Illustrator, HTML/CSS, JavaScript',
        include: 'true',
      },
      {
        imageLink: 'images/south_to_mexico.png',
        toLink: 'https://www.npr.org/2021/02/28/971325620/a-chapter-in-u-s-history-often-ignored-the-flight-of-runaway-slaves-to-mexico',
        title: "A Chapter In U.S. History Often Ignored: The Flight Of Runaway Slaves To Mexico",
        organization: 'NPR',
        tools: 'JavaScript (D3), Illustrator, ai2html',
        include: 'true',
      },
      {
        imageLink: 'images/dapl-ss.png',
        toLink: 'portfolio.html#dapl',
        title: 'Dakota Access Pipeline map',
        organization: 'Middlebury College',
        tools: 'ArcMap, Illustrator',
        include: 'false',
      },
      {
        imageLink: 'images/nc_vote.png',
        toLink: 'portfolio.html#nc',
        title: 'Prison gerrymandering in North Carolina',
        organization: 'Voting Rights Data Institute',
        tools: 'QGIS',
        include: 'false',
      },
      {
        imageLink: 'images/gis_work_ss.png',
        toLink: 'portfolio.html#gis',
        title: 'GIS Applications in Environmental Science course',
        organization: 'Middlebury College',
        tools: 'ArcMap',
        include: 'false',
      },
      {
        imageLink: 'images/mggg.png',
        toLink: 'portfolio.html#rules',
        title: 'Congressional redistricting rules',
        organization: 'Voting Rights Data Institute',
        tools: 'R, QGIS',
        include: 'false',
      }]}
    ]

//get columns and rows
var homepageGrid = document.querySelector(".row")
var homepageColumns = document.querySelectorAll(".column")

//add clips
document.body.onload = setupHP(data);

////////////////////////////////////////////////
//HOMEPAGE
////////////////////////////////////////////////

function setupHP(data) {
  //figure out how many per column
  var dataLength = data.length
  var dataPerColumn = dataLength/3

  data.forEach(function(group,i){
      group.content.forEach(function(item,i){
        if (item.include=='true'){
          addElementToHP(item,group.column)
        }
      })
  })
}

function addElementToHP(item,index){

  //new content div
  const newDiv = document.createElement("div");
  newDiv.classList.add("content_img")

  // and give it some content
  const newContent = document.createElement("a");
  newContent.href = item.toLink;

  //create new image
  const newImage = document.createElement("img")
  newImage.src = item.imageLink;
  newImage.classList.add("image_hp")

  //inner text
  const innerDiv = document.createElement("div");
  innerDiv.innerHTML = `<b>${item.title}</b><br>${item.organization}<br><span style="color:darkgray; font-size:12px">${item.tools}</span></div>`


  //ADD IMAGE AND OTHER STUFF HERE
  newContent.appendChild(newImage)
  newContent.appendChild(innerDiv)
  // add the text node to the newly created div
  newDiv.appendChild(newContent);

  // add the newly created element and its content into the DOM
  homepageColumns[index].appendChild(newDiv);

}
